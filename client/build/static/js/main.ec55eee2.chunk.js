(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{54:function(n,e,t){n.exports=t(83)},83:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),u=t(21),i=t.n(u),o=t(2),c=t(1),l=t(43),d=t.n(l);function f(){var n=Object(o.a)(["\n ",";\n\n * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  font-family: 'Raleway', sans-serif;\n  font-size: 1rem;\n  line-height: 1.6;\n  background-color: #fff;\n  color: #333;\n}\n\na {\n  color: #17a2b8;\n  text-decoration: none;\n}\n\nul {\n  list-style: none;\n}\n\nimg {\n  width: 100%;\n}\n"]);return f=function(){return n},n}var s=Object(c.createGlobalStyle)(f(),d.a),p=t(7),m=t(16),h=t(8),g=t(11),b=t.n(g),v=t(18),E=t.n(v),O=t(47),x=t.n(O),j=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return function(a){var r=x.a.v4();a({type:"SET_ALERT",payload:{msg:n,alertType:e,id:r}}),setTimeout((function(){a({type:"REMOVE_ALERT",payload:r})}),t)}},y=function(n){n?(console.log("setAuthToken \uc785\ub2c8\ub2e4."),E.a.defaults.headers.common["x-auth-token"]=n):delete E.a.defaults.headers.common["x-auth-token"]},w=function(){return function(n){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("auth actions loadUSer token \ud655\uc778"),localStorage.token&&y(localStorage.token),t.prev=2,t.next=5,b.a.awrap(E.a.get("/api/users/login"));case 5:e=t.sent,n({type:"USER_LOADED",payload:e.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),n({type:"AUTH_ERROR"});case 12:case"end":return t.stop()}}),null,null,[[2,9]])}},S=function(n){var e=n.name,t=n.email,a=n.password;return function(n){var r,u,i,o;return b.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r={headers:{"Content-Type":"application/json"}},u=JSON.stringify({name:e,email:t,password:a}),c.prev=2,c.next=5,b.a.awrap(E.a.post("/api/users/register",u,r));case 5:i=c.sent,n({type:"REGISTER_SUCCESS",payload:i.data}),c.next=14;break;case 9:c.prev=9,c.t0=c.catch(2),(o=c.t0.response.data.errors)&&o.forEach((function(e){n(j(e.msg,"danger"))})),n({type:"REGISTER_FAIL"});case 14:case"end":return c.stop()}}),null,null,[[2,9]])}},k=function(n,e){return function(t){var a,r,u,i;return b.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return a={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:n,password:e}),o.prev=2,o.next=5,b.a.awrap(E.a.post("/api/users/login",r,a));case 5:u=o.sent,t({type:"LOGIN_SUCCESS",payload:u.data}),t(w()),o.next=15;break;case 10:o.prev=10,o.t0=o.catch(2),(i=o.t0.response.data.errors)&&i.forEach((function(n){t(j(n.msg,"danger"))})),t({type:"LOGIN_FAIL"});case 15:case"end":return o.stop()}}),null,null,[[2,10]])}};function A(){var n=Object(o.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: #fff;\n  padding: 0 0.45rem;\n  margin: 0 0.25rem;\n"]);return A=function(){return n},n}function R(){var n=Object(o.a)(["\n  width: 80px;\n  height: 100%;\n  ","\n"]);return R=function(){return n},n}function C(){var n=Object(o.a)(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n"]);return C=function(){return n},n}function L(){var n=Object(o.a)([""]);return L=function(){return n},n}function T(){var n=Object(o.a)([""]);return T=function(){return n},n}function I(){var n=Object(o.a)([""]);return I=function(){return n},n}function _(){var n=Object(o.a)(["\n  a {\n    color: #fff;\n    padding: 0.45rem;\n    margin: 0 0.25rem;\n  }\n"]);return _=function(){return n},n}function G(){var n=Object(o.a)(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  font-size: 18px;\n"]);return G=function(){return n},n}function U(){var n=Object(o.a)(["\n  height: 100%;\n"]);return U=function(){return n},n}function D(){var n=Object(o.a)(["\n  display: flex;\n  position: fixed;\n  top: 0;\n  left: 0;\n  padding: 0 2rem;\n  z-index: 1;\n  width: 100%;\n  height: 80px;\n  border-bottom: 1px solid #6a6a6a;\n  border-top: 1px solid #6a6a6a;\n  background-color: #2f3237;\n  justify-content: space-between;\n"]);return D=function(){return n},n}var N=c.default.header(D()),F=c.default.section(U()),z=c.default.section(G()),q=c.default.div(_()),M=Object(c.default)(p.b)(I()),J=Object(c.default)(p.b)(T()),W=Object(c.default)(p.b)(L()),P=c.default.ul(C()),H=c.default.li(R(),(function(n){return n.current?{backgroundColor:"black",color:"#fff"}:"transparent"})),V=Object(c.default)(p.b)(A()),B=Object(m.g)((function(n){var e=Object(h.b)(),t=Object(h.c)((function(n){return n.auth}));return console.log(t),r.a.createElement(N,null,r.a.createElement(F,null,r.a.createElement(P,null,r.a.createElement(H,{current:"/"===n.location.pathname},r.a.createElement(V,{to:"/"},"\uc790\ub791\ud230")),r.a.createElement(H,null,r.a.createElement(V,{to:"/"},"\ucee4\ubc0d\uc468")),r.a.createElement(H,null,r.a.createElement(V,{to:"/"},"\ucee4\ubc0d\uc468")))),r.a.createElement(z,null,t.loading?null:r.a.createElement(q,null,t.isAuthenticated&&t.isAuthenticated?r.a.createElement(J,{to:"/",onClick:function(){return e((function(n){n({type:"LOGOUT"})}))}},"\ub85c\uadf8\uc544\uc6c3"):r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{to:"/login"},"\ub85c\uadf8\uc778"),r.a.createElement(W,{to:"/register"},"\ud68c\uc6d0\uac00\uc785")))))}));function K(){var n=Object(o.a)([""]);return K=function(){return n},n}function Q(){var n=Object(o.a)(["\n  color: #fff;\n  height: 100%;\n  width: 80%;\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  display: grid;\n  grid-template-columns: repeat(5, minmax(150px, 1fr));\n  grid-template-rows: repeat(auto, minmax(300px, 1fr));\n  grid-gap: 30px;\n  ",":first-child {\n    grid-column: span 2;\n    grid-row: span 2;\n  }\n"]);return Q=function(){return n},n}function X(){var n=Object(o.a)(["\n  width: 100%;\n  height: 100%;\n  background-color: black;\n"]);return X=function(){return n},n}function Y(){var n=Object(o.a)(["\n  background-color: rgba(0, 0, 0, 0.7);\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  padding-top: 80px;\n"]);return Y=function(){return n},n}function Z(){var n=Object(o.a)(["\n  position: relative;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100vh;\n"]);return Z=function(){return n},n}var $=c.default.main(Z()),nn=c.default.div(Y()),en=c.default.div(X()),tn=c.default.div(Q(),en),an=c.default.div(K()),rn=function(){return r.a.createElement($,null,r.a.createElement(nn,null,r.a.createElement(tn,null,r.a.createElement(en,null,r.a.createElement(an,null)))))},un=function(){return r.a.createElement(rn,null)},on=t(19),cn=t(14),ln=t(23),dn=t(22),fn=function(){var n=Object(h.c)((function(n){return n.alert}));return console.log(n),r.a.createElement(r.a.Fragment,null,null!==n&&n.length>0&&n.map((function(n){return r.a.createElement("div",{key:n.id},n.msg)})))};function sn(){var n=Object(o.a)(["\n  display: flex !important;\n  align-items: center;\n"]);return sn=function(){return n},n}function pn(){var n=Object(o.a)([""]);return pn=function(){return n},n}function mn(){var n=Object(o.a)([""]);return mn=function(){return n},n}function hn(){var n=Object(o.a)([""]);return hn=function(){return n},n}function gn(){var n=Object(o.a)([""]);return gn=function(){return n},n}function bn(){var n=Object(o.a)(["\n  > div {\n    width: 100%;\n    border-bottom: 2px solid #adadad;\n    margin-bottom: 37px;\n  }\n  * {\n    all: unset;\n    font-size: 15px;\n    color: #555;\n    line-height: 1.2;\n    display: block;\n    width: 100%;\n    height: 45px;\n    background: 0 0;\n  }\n"]);return bn=function(){return n},n}function vn(){var n=Object(o.a)(["\n  width: 100%;\n  height: 100%;\n  font-size: 45px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  letter-spacing: 10px;\n"]);return vn=function(){return n},n}function En(){var n=Object(o.a)(["\n  width: 100%;\n  height: 10vh;\n  padding: 10px 35px;\n"]);return En=function(){return n},n}function On(){var n=Object(o.a)(["\n  width: 400px;\n  position: relative;\n  background-color: #fff;\n  margin: auto;\n  border-radius: 10px;\n  padding: 40px 55px 33px;\n  box-shadow: 0 5px 10px 0 rgba(0, 0, 0, 0.1);\n"]);return On=function(){return n},n}function xn(){var n=Object(o.a)(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 15px;\n  background-color: #f2f2f2;\n  min-height: 100vh;\n  display: flex;\n"]);return xn=function(){return n},n}var jn=c.default.div(xn()),yn=c.default.div(On()),wn=c.default.div(En()),Sn=Object(c.default)(p.b)(vn()),kn=c.default.form(bn()),An=c.default.input(gn()),Rn=c.default.input(hn()),Cn=c.default.input(mn()),Ln=c.default.input(pn()),Tn=(c.default.div(sn()),function(n){var e=n.handleSubmit,t=n.handleChange,a=Object(dn.a)(n,["handleSubmit","handleChange"]);return r.a.createElement(jn,null,r.a.createElement(yn,null,r.a.createElement(wn,null,r.a.createElement(Sn,{to:"/"},"SELF")),r.a.createElement(kn,{onSubmit:function(n){return e(n)}},r.a.createElement("div",{className:"form-group"},r.a.createElement(An,{type:"text",name:"name",placeholder:"NAME",value:a.name,onChange:function(n){return t(n)},required:!0})),r.a.createElement("div",null,r.a.createElement(Cn,{type:"email",name:"email",placeholder:"E-mail",value:a.email,onChange:function(n){return t(n)},required:!0})),r.a.createElement("div",null,r.a.createElement(Rn,{type:"password",name:"password",placeholder:"PASSWORD",value:a.password,onChange:function(n){return t(n)},minLength:"6",required:!0})),r.a.createElement("div",null,r.a.createElement(Rn,{type:"password",name:"password2",placeholder:"PASSWORD_CONFIRMATION",value:a.password2,onChange:function(n){return t(n)},minLength:"6",required:!0})),r.a.createElement(Ln,{type:"submit",value:"\ub4f1\ub85d"})),r.a.createElement(fn,null)))}),In=function(){var n=Object(a.useState)({name:"",email:"",password:"",password2:""}),e=Object(ln.a)(n,2),t=e[0],u=e[1],i=Object(h.c)((function(n){return n.auth.isAuthenticated}),[]),o=Object(h.b)(),c=t.name,l=t.email,d=t.password,f=t.password2;return r.a.createElement(Tn,Object.assign({isAuthenticated:i},t,{handleChange:function(n){u(Object(cn.a)({},t,Object(on.a)({},n.target.name,n.target.value)))},handleSubmit:function(n){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),o(d!==f?j("\ud328\uc2a4\uc6cc\ub4dc\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4.","danger"):S({name:c,email:l,password:d}));case 2:case"end":return e.stop()}}))}}))};function _n(){var n=Object(o.a)(["\n  display: flex !important;\n  align-items: center;\n"]);return _n=function(){return n},n}function Gn(){var n=Object(o.a)(["\n  width: 70px;\n  height: 30px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n"]);return Gn=function(){return n},n}function Un(){var n=Object(o.a)(["\n  float: left;\n  all: unset;\n  height: 30px;\n  cursor: pointer;\n"]);return Un=function(){return n},n}function Dn(){var n=Object(o.a)([""]);return Dn=function(){return n},n}function Nn(){var n=Object(o.a)([""]);return Nn=function(){return n},n}function Fn(){var n=Object(o.a)(["\n  > div {\n    width: 100%;\n    border-bottom: 2px solid #adadad;\n    margin-bottom: 37px;\n  }\n  * {\n    all: unset;\n    font-size: 15px;\n    color: #555;\n    line-height: 1.2;\n    display: block;\n    width: 100%;\n    height: 45px;\n    background: 0 0;\n  }\n"]);return Fn=function(){return n},n}function zn(){var n=Object(o.a)(["\n  width: 400px;\n  position: relative;\n  background-color: #fff;\n  margin: auto;\n  border-radius: 10px;\n  padding: 40px 55px 33px;\n  box-shadow: 0 5px 10px 0 rgba(0, 0, 0, 0.1);\n"]);return zn=function(){return n},n}function qn(){var n=Object(o.a)(["\n  width: 100%;\n  height: 100%;\n  font-size: 45px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  letter-spacing: 10px;\n"]);return qn=function(){return n},n}function Mn(){var n=Object(o.a)(["\n  width: 100%;\n  height: 10vh;\n  padding: 10px 35px;\n"]);return Mn=function(){return n},n}function Jn(){var n=Object(o.a)(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 15px;\n  background-color: #f2f2f2;\n  min-height: 100vh;\n  display: flex;\n"]);return Jn=function(){return n},n}var Wn=c.default.div(Jn()),Pn=c.default.div(Mn()),Hn=Object(c.default)(p.b)(qn()),Vn=c.default.div(zn()),Bn=c.default.form(Fn()),Kn=c.default.input(Nn()),Qn=c.default.input(Dn()),Xn=c.default.input(Un()),Yn=Object(c.default)(p.b)(Gn()),Zn=(c.default.div(_n()),function(n){var e=n.handleSubmit,t=n.handleChange,a=Object(dn.a)(n,["handleSubmit","handleChange"]);return r.a.createElement(Wn,null,r.a.createElement(Vn,null,r.a.createElement(Pn,null,r.a.createElement(Hn,{to:"/"},"SELF")),r.a.createElement(Bn,{onSubmit:function(n){return e(n)}},r.a.createElement("div",null,r.a.createElement(Kn,{type:"email",name:"email",placeholder:"E-mail",value:a.email,onChange:function(n){return t(n)},required:!0})),r.a.createElement("div",null,r.a.createElement(Qn,{type:"password",name:"password",placeholder:"PASSWORD",value:a.password,onChange:function(n){return t(n)},minLength:"6",required:!0})),r.a.createElement(Xn,{type:"submit",value:"\ub85c\uadf8\uc778",onClick:function(n){return e(n)}}),r.a.createElement(Yn,{to:"/register"},"\ud68c\uc6d0\ub4f1\ub85d"))))}),$n=function(n){var e=Object(a.useState)({email:"",password:""}),t=Object(ln.a)(e,2),u=t[0],i=t[1],o=Object(h.c)((function(n){return n.auth.isAuthenticated}),[]),c=Object(h.b)(),l=u.email,d=u.password;return r.a.createElement(Zn,Object.assign({isAuthenticated:o},u,{handleChange:function(n){i(Object(cn.a)({},u,Object(on.a)({},n.target.name,n.target.value)))},handleSubmit:function(e){return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),c(k(l,d)),n.history.push("/");case 3:case"end":return t.stop()}}))}}))},ne=function(){return r.a.createElement(p.a,null,r.a.createElement(B,null),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",exact:!0,component:un}),r.a.createElement(m.b,{path:"/login",component:$n}),r.a.createElement(m.b,{path:"/register",component:In}),r.a.createElement(m.a,{from:"/*",to:"/"})))},ee=t(15),te=t(49),ae=t(50),re=t(51),ue=[],ie={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},oe=Object(ee.combineReducers)({alert:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,e=arguments.length>1?arguments[1]:void 0,t=e.type,a=e.payload;switch(t){case"SET_ALERT":return[].concat(Object(re.a)(n),[a]);case"REMOVE_ALERT":return n.filter((function(n){return n.id!==a}));default:return n}},auth:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,e=arguments.length>1?arguments[1]:void 0,t=e.type,a=e.payload;switch(t){case"AUTH_ERROR":return localStorage.removeItem("token"),Object(cn.a)({},n,{token:null,isAuthenticated:!1,loading:!1});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return localStorage.setItem("token",a.token),Object(cn.a)({},n,{},a,{isAuthenticated:!0,loading:!1});case"LOGIN_FAIL":case"REGISTER_FAIL":case"LOGOUT":return localStorage.removeItem("token"),Object(cn.a)({},n,{token:null,isAuthenticated:!1,loading:!1});case"USER_LOADED":return Object(cn.a)({},n,{isAuthenticated:!0,loading:!1,user:a});default:return n}}}),ce=[ae.a],le=Object(ee.createStore)(oe,{},Object(te.composeWithDevTools)(ee.applyMiddleware.apply(void 0,ce)));localStorage.token&&y(localStorage.token);var de=function(){return Object(a.useEffect)((function(){console.log("hello"),le.dispatch(w())}),[]),r.a.createElement(h.a,{store:le},r.a.createElement(s,null),r.a.createElement(ne,null))};i.a.render(r.a.createElement(de,null),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.ec55eee2.chunk.js.map